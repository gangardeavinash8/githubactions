name: Build and push docker image 

on: [push]
 


jobs:
  build:
    run-on: ubuntu-latest

      steps:
        - name: checkout repository
          uses: actions/checkout@v3


       - name: login to docker hub
         uses: docker/login-action@v2
         with:
           username: ${{ secrets.DOCKER_USERNAME}}
           password: ${{ secrets.DOCKER_TOKEN }}

       - name: build and push 
         uses: docker/build-push-action@v4
         with:
           context: .
           push: true
           tags: poco349/newimg:latest
        
